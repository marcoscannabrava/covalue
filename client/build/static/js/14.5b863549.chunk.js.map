{"version":3,"sources":["app/user-pages/SignUp.js","constants/roles.js"],"names":["INITIAL_STATE","username","email","passwordOne","passwordTwo","isAdmin","error","SignUpFormBase","props","onSubmit","event","state","roles","firebase","doCreateUserWithEmailAndPassword","then","authUser","user","uid","set","doSendEmailVerification","setState","history","push","ROUTES","catch","code","message","preventDefault","onChange","target","name","value","onChangeCheckbox","checked","this","isInvalid","className","src","require","alt","type","placeholder","disabled","to","Component","SignUpLink","compose","withRouter","withFirebase"],"mappings":"iRAQA,IAAMA,EAAgB,CACpBC,SAAU,GACVC,MAAO,GACPC,YAAa,GACbC,YAAa,GACbC,SAAS,EACTC,MAAO,MAaHC,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAKRC,SAAW,SAAAC,GAAU,IAAD,EACgC,EAAKC,MAA/CV,EADU,EACVA,SAAUC,EADA,EACAA,MAAOC,EADP,EACOA,YAAaE,EADpB,EACoBA,QAChCO,EAAQ,GAEVP,IACFO,EAAK,MCvCU,SD0CjB,EAAKJ,MAAMK,SACRC,iCAAiCZ,EAAOC,GACxCY,MAAK,SAAAC,GAEJ,OAAO,EAAKR,MAAMK,SAASI,KAAKD,EAASC,KAAKC,KAAKC,IAAI,CACrDlB,WACAC,QACAU,aAGHG,MAAK,WACJ,OAAO,EAAKP,MAAMK,SAASO,6BAE5BL,MAAK,WACJ,EAAKM,SAAL,eAAmBrB,IACnB,EAAKQ,MAAMc,QAAQC,KAAKC,QAEzBC,OAAM,SAAAnB,GA1CqB,8BA2CtBA,EAAMoB,OACRpB,EAAMqB,QA1Cc,4RA6CtB,EAAKN,SAAS,CAAEf,aAGpBI,EAAMkB,kBAvCW,EA0CnBC,SAAW,SAAAnB,GACT,EAAKW,SAAL,eAAiBX,EAAMoB,OAAOC,KAAOrB,EAAMoB,OAAOE,SA3CjC,EA8CnBC,iBAAmB,SAAAvB,GACjB,EAAKW,SAAL,eAAiBX,EAAMoB,OAAOC,KAAOrB,EAAMoB,OAAOI,WA5ClD,EAAKvB,MAAL,eAAkBX,GAHD,E,qDAkDT,IAAD,EAQHmC,KAAKxB,MANPV,EAFK,EAELA,SACAC,EAHK,EAGLA,MACAC,EAJK,EAILA,YACAC,EALK,EAKLA,YAEAE,EAPK,EAOLA,MAGI8B,EACJjC,IAAgBC,GACA,KAAhBD,GACU,KAAVD,GACa,KAAbD,EAEF,OACE,6BACE,yBAAKoC,UAAU,uCACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,+CACb,yBAAKA,UAAU,cACb,yBAAKC,IAAKC,EAAQ,IAAkDC,IAAI,UAE1E,yCACA,wBAAIH,UAAU,qBAAd,iDACA,0BAAMA,UAAU,OAAO5B,SAAU0B,KAAK1B,UAIpC,yBAAK4B,UAAU,cACb,2BACEN,KAAK,WACLM,UAAU,+BACVL,MAAO/B,EACP4B,SAAUM,KAAKN,SACfY,KAAK,OACLC,YAAY,eAGhB,yBAAKL,UAAU,cACb,2BACEN,KAAK,QACLM,UAAU,+BACVL,MAAO9B,EACP2B,SAAUM,KAAKN,SACfY,KAAK,OACLC,YAAY,mBAahB,yBAAKL,UAAU,cACb,2BACEN,KAAK,cACLM,UAAU,+BACVL,MAAO7B,EACP0B,SAAUM,KAAKN,SACfY,KAAK,WACLC,YAAY,aAEd,2BACEX,KAAK,cACLM,UAAU,+BACVL,MAAO5B,EACPyB,SAAUM,KAAKN,SACfY,KAAK,WACLC,YAAY,sBAGhB,yBAAKL,UAAU,QACb,yBAAKA,UAAU,cACb,2BAAOA,UAAU,+BACf,2BAAOI,KAAK,WAAWJ,UAAU,qBACjC,uBAAGA,UAAU,iBAFf,uCAOJ,yBAAKA,UAAU,QACf,4BAAQA,UAAU,oEAAoEM,SAAUP,EAAWK,KAAK,UAAhH,YAKA,yBAAKJ,UAAU,sCAAf,4BAC2B,kBAAC,IAAD,CAAMO,GAAG,qBAAqBP,UAAU,gBAAxC,UAE1B/B,GAAS,2BAAIA,EAAMqB,mB,GApJTkB,aA+JvBC,EAAa,kBACjB,qDACyB,kBAAC,IAAD,CAAMF,GAAIpB,KAAV,aAIZuB,sBACbC,IACAC,IAFaF,CAGbxC","file":"static/js/14.5b863549.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\nimport * as ROLES from '../../constants/roles';\n\nconst INITIAL_STATE = {\n  username: '',\n  email: '',\n  passwordOne: '',\n  passwordTwo: '',\n  isAdmin: false,\n  error: null,\n};\n\nconst ERROR_CODE_ACCOUNT_EXISTS = 'auth/email-already-in-use';\n\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with this E-Mail address already exists.\n  Try to login with this account instead. If you think the\n  account is already used from one of the social logins, try\n  to sign in with one of them. Afterward, associate your accounts\n  on your personal account page.\n`;\n\nclass SignUpFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { username, email, passwordOne, isAdmin } = this.state;\n    const roles = {};\n\n    if (isAdmin) {\n      roles[ROLES.ADMIN] = ROLES.ADMIN;\n    }\n\n    this.props.firebase\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\n      .then(authUser => {\n        // Create a user in your Firebase realtime database\n        return this.props.firebase.user(authUser.user.uid).set({\n          username,\n          email,\n          roles,\n        });\n      })\n      .then(() => {\n        return this.props.firebase.doSendEmailVerification();\n      })\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.DASHBOARD);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  onChangeCheckbox = event => {\n    this.setState({ [event.target.name]: event.target.checked });\n  };\n\n  render() {\n    const {\n      username,\n      email,\n      passwordOne,\n      passwordTwo,\n      // isAdmin,\n      error,\n    } = this.state;\n\n    const isInvalid =\n      passwordOne !== passwordTwo ||\n      passwordOne === '' ||\n      email === '' ||\n      username === '';\n\n    return (\n      <div>\n        <div className=\"d-flex align-items-center auth px-0\">\n          <div className=\"row w-100 mx-0\">\n            <div className=\"col-lg-4 mx-auto\">\n              <div className=\"auth-form-light text-left py-5 px-4 px-sm-5\">\n                <div className=\"brand-logo\">\n                  <img src={require(\"../../assets/images/covalue/marca_co_azul.png\")} alt=\"logo\" />\n                </div>\n                <h4>New here?</h4>\n                <h6 className=\"font-weight-light\">Signing up is easy. It only takes a few steps</h6>\n                <form className=\"pt-3\" onSubmit={this.onSubmit}>\n                  {/* <div className=\"form-group\">\n                    <input type=\"text\" className=\"form-control form-control-lg\" id=\"exampleInputUsername1\" placeholder=\"Username\" />\n                  </div> */}\n                  <div className=\"form-group\">\n                    <input\n                      name=\"username\"\n                      className=\"form-control form-control-lg\"\n                      value={username}\n                      onChange={this.onChange}\n                      type=\"text\"\n                      placeholder=\"Full Name\"\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <input\n                      name=\"email\"\n                      className=\"form-control form-control-lg\"\n                      value={email}\n                      onChange={this.onChange}\n                      type=\"text\"\n                      placeholder=\"Email Address\"\n                    />\n                  </div>\n                  {/* <div className=\"form-group\">\n                    <select className=\"form-control form-control-lg\" id=\"exampleFormControlSelect2\">\n                      <option>Country</option>\n                      <option>United States of America</option>\n                      <option>United Kingdom</option>\n                      <option>India</option>\n                      <option>Germany</option>\n                      <option>Argentina</option>\n                    </select>\n                  </div> */}\n                  <div className=\"form-group\">\n                    <input\n                      name=\"passwordOne\"\n                      className=\"form-control form-control-lg\"\n                      value={passwordOne}\n                      onChange={this.onChange}\n                      type=\"password\"\n                      placeholder=\"Password\"\n                    />\n                    <input\n                      name=\"passwordTwo\"\n                      className=\"form-control form-control-lg\"\n                      value={passwordTwo}\n                      onChange={this.onChange}\n                      type=\"password\"\n                      placeholder=\"Confirm Password\"\n                    />\n                  </div>\n                  <div className=\"mb-4\">\n                    <div className=\"form-check\">\n                      <label className=\"form-check-label text-muted\">\n                        <input type=\"checkbox\" className=\"form-check-input\" />\n                        <i className=\"input-helper\"></i>\n                        I agree to all Terms & Conditions\n                      </label>\n                    </div>\n                  </div>\n                  <div className=\"mt-3\">\n                  <button className=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\" disabled={isInvalid} type=\"submit\">\n                    SIGN UP\n                  </button>\n                    {/* <Link className=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\" to=\"/dashboard\">SIGN UP</Link> */}\n                  </div>\n                  <div className=\"text-center mt-4 font-weight-light\">\n                    Already have an account? <Link to=\"/user-pages/signin\" className=\"text-primary\">Login</Link>\n                  </div>\n                  {error && <p>{error.message}</p>}\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst SignUpLink = () => (\n  <p>\n    Don't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\n  </p>\n);\n\nexport default compose(\n  withRouter,\n  withFirebase,\n)(SignUpFormBase);\n\nexport { SignUpLink };\n","export const ADMIN = 'ADMIN';\n"],"sourceRoot":""}