{"version":3,"sources":["../node_modules/react-file-drop/FileDrop.js","app/components/file_upload/FileUpload.jsx"],"names":["__extends","this","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__importDefault","mod","__esModule","defineProperty","exports","value","prop_types_1","react_1","FileDrop","_super","props","_this","call","resetDragging","frameDragCounter","setState","draggingOverFrame","draggingOverTarget","handleWindowDragOverOrDrop","event","preventDefault","handleFrameDrag","eventHasFiles","type","onFrameDragEnter","onFrameDragLeave","handleFrameDrop","state","onFrameDrop","handleDragOver","isIE","dropEffect","dataTransfer","onDragOver","handleDragLeave","onDragLeave","handleDrop","onDrop","files","stopFrameListeners","frame","removeEventListener","startFrameListeners","addEventListener","componentDidMount","window","UNSAFE_componentWillReceiveProps","nextProps","componentWillUnmount","render","_a","children","className","targetClassName","draggingOverFrameClassName","draggingOverTargetClassName","_b","fileDropTargetClassName","default","createElement","navigator","userAgent","indexOf","appVersion","hasFiles","types","keyOrIndex","propTypes","string","func","oneOf","propName","componentName","prop","Error","document","HTMLElement","defaultProps","undefined","PureComponent","FileUpload","file","data","FormData","append","axios","post","API_URL","then","res","console","log","sendFile","persist","fileUpload","target","htmlFor","id","onChange","inputFileUpload","Component","compose","withAuthorization","authUser"],"mappings":"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","file":"static/js/8.eed0c31c.chunk.js","sourcesContent":["\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar FileDrop =\n/** @class */\nfunction (_super) {\n  __extends(FileDrop, _super);\n\n  function FileDrop(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.resetDragging = function () {\n      _this.frameDragCounter = 0;\n\n      _this.setState({\n        draggingOverFrame: false,\n        draggingOverTarget: false\n      });\n    };\n\n    _this.handleWindowDragOverOrDrop = function (event) {\n      // This prevents the browser from trying to load whatever file the user dropped on the window\n      event.preventDefault();\n    };\n\n    _this.handleFrameDrag = function (event) {\n      // Only allow dragging of files\n      if (!FileDrop.eventHasFiles(event)) return; // We are listening for events on the 'frame', so every time the user drags over any element in the frame's tree,\n      // the event bubbles up to the frame. By keeping count of how many \"dragenters\" we get, we can tell if they are still\n      // \"draggingOverFrame\" (b/c you get one \"dragenter\" initially, and one \"dragenter\"/one \"dragleave\" for every bubble)\n      // This is far better than a \"dragover\" handler, which would be calling `setState` continuously.\n\n      _this.frameDragCounter += event.type === 'dragenter' ? 1 : -1;\n\n      if (_this.frameDragCounter === 1) {\n        _this.setState({\n          draggingOverFrame: true\n        });\n\n        if (_this.props.onFrameDragEnter) _this.props.onFrameDragEnter(event);\n        return;\n      }\n\n      if (_this.frameDragCounter === 0) {\n        _this.setState({\n          draggingOverFrame: false\n        });\n\n        if (_this.props.onFrameDragLeave) _this.props.onFrameDragLeave(event);\n        return;\n      }\n    };\n\n    _this.handleFrameDrop = function (event) {\n      if (!_this.state.draggingOverTarget) {\n        _this.resetDragging();\n\n        if (_this.props.onFrameDrop) _this.props.onFrameDrop(event);\n      }\n    };\n\n    _this.handleDragOver = function (event) {\n      if (FileDrop.eventHasFiles(event)) {\n        _this.setState({\n          draggingOverTarget: true\n        });\n\n        if (!FileDrop.isIE() && _this.props.dropEffect) event.dataTransfer.dropEffect = _this.props.dropEffect;\n        if (_this.props.onDragOver) _this.props.onDragOver(event);\n      }\n    };\n\n    _this.handleDragLeave = function (event) {\n      _this.setState({\n        draggingOverTarget: false\n      });\n\n      if (_this.props.onDragLeave) _this.props.onDragLeave(event);\n    };\n\n    _this.handleDrop = function (event) {\n      if (_this.props.onDrop && FileDrop.eventHasFiles(event)) {\n        var files = event.dataTransfer ? event.dataTransfer.files : null;\n\n        _this.props.onDrop(files, event);\n      }\n\n      _this.resetDragging();\n    };\n\n    _this.stopFrameListeners = function (frame) {\n      if (frame) {\n        removeEventListener('dragenter', _this.handleFrameDrag);\n        frame.removeEventListener('dragleave', _this.handleFrameDrag);\n        frame.removeEventListener('drop', _this.handleFrameDrop);\n      }\n    };\n\n    _this.startFrameListeners = function (frame) {\n      if (frame) {\n        frame.addEventListener('dragenter', _this.handleFrameDrag);\n        frame.addEventListener('dragleave', _this.handleFrameDrag);\n        frame.addEventListener('drop', _this.handleFrameDrop);\n      }\n    };\n\n    _this.frameDragCounter = 0;\n    _this.state = {\n      draggingOverFrame: false,\n      draggingOverTarget: false\n    };\n    return _this;\n  }\n\n  FileDrop.prototype.componentDidMount = function () {\n    this.startFrameListeners(this.props.frame);\n    this.resetDragging();\n    window.addEventListener('dragover', this.handleWindowDragOverOrDrop);\n    window.addEventListener('drop', this.handleWindowDragOverOrDrop);\n  };\n\n  FileDrop.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n    if (nextProps.frame !== this.props.frame) {\n      this.resetDragging();\n      this.stopFrameListeners(this.props.frame);\n      this.startFrameListeners(nextProps.frame);\n    }\n  };\n\n  FileDrop.prototype.componentWillUnmount = function () {\n    this.stopFrameListeners(this.props.frame);\n    window.removeEventListener('dragover', this.handleWindowDragOverOrDrop);\n    window.removeEventListener('drop', this.handleWindowDragOverOrDrop);\n  };\n\n  FileDrop.prototype.render = function () {\n    var _a = this.props,\n        children = _a.children,\n        className = _a.className,\n        targetClassName = _a.targetClassName,\n        draggingOverFrameClassName = _a.draggingOverFrameClassName,\n        draggingOverTargetClassName = _a.draggingOverTargetClassName;\n    var _b = this.state,\n        draggingOverTarget = _b.draggingOverTarget,\n        draggingOverFrame = _b.draggingOverFrame;\n    var fileDropTargetClassName = targetClassName;\n    if (draggingOverFrame) fileDropTargetClassName += \" \" + draggingOverFrameClassName;\n    if (draggingOverTarget) fileDropTargetClassName += \" \" + draggingOverTargetClassName;\n    return react_1.default.createElement(\"div\", {\n      className: className,\n      onDragOver: this.handleDragOver,\n      onDragLeave: this.handleDragLeave,\n      onDrop: this.handleDrop\n    }, react_1.default.createElement(\"div\", {\n      className: fileDropTargetClassName\n    }, children));\n  };\n\n  FileDrop.isIE = function () {\n    return typeof window !== 'undefined' && (window.navigator.userAgent.indexOf('MSIE') !== -1 || window.navigator.appVersion.indexOf('Trident/') > 0);\n  };\n\n  FileDrop.eventHasFiles = function (event) {\n    // In most browsers this is an array, but in IE11 it's an Object :(\n    var hasFiles = false;\n\n    if (event.dataTransfer) {\n      var types = event.dataTransfer.types;\n\n      for (var keyOrIndex in types) {\n        if (types[keyOrIndex] === 'Files') {\n          hasFiles = true;\n          break;\n        }\n      }\n    }\n\n    return hasFiles;\n  };\n\n  FileDrop.propTypes = {\n    className: prop_types_1.default.string,\n    targetClassName: prop_types_1.default.string,\n    draggingOverFrameClassName: prop_types_1.default.string,\n    draggingOverTargetClassName: prop_types_1.default.string,\n    onDragOver: prop_types_1.default.func,\n    onDragLeave: prop_types_1.default.func,\n    onDrop: prop_types_1.default.func,\n    dropEffect: prop_types_1.default.oneOf(['copy', 'move', 'link', 'none']),\n    frame: function frame(props, propName, componentName) {\n      var prop = props[propName];\n\n      if (prop == null) {\n        return new Error('Warning: Required prop `' + propName + '` was not specified in `' + componentName + '`');\n      }\n\n      if (prop !== document && !(prop instanceof HTMLElement)) {\n        return new Error('Warning: Prop `' + propName + '` must be one of the following: document, HTMLElement!');\n      }\n    },\n    onFrameDragEnter: prop_types_1.default.func,\n    onFrameDragLeave: prop_types_1.default.func,\n    onFrameDrop: prop_types_1.default.func\n  };\n  FileDrop.defaultProps = {\n    dropEffect: 'copy',\n    frame: typeof window === 'undefined' ? undefined : window.document,\n    className: 'file-drop',\n    targetClassName: 'file-drop-target',\n    draggingOverFrameClassName: 'file-drop-dragging-over-frame',\n    draggingOverTargetClassName: 'file-drop-dragging-over-target'\n  };\n  return FileDrop;\n}(react_1.default.PureComponent);\n\nexports.FileDrop = FileDrop;","import React, { Component } from 'react';\nimport { withAuthorization } from '../../Session';\nimport { compose } from 'recompose';\n\nimport axios from 'axios';\n\nimport { FileDrop } from 'react-file-drop';\n\nconst API_URL = process.env.NODE_ENV === 'development' ? \"http://localhost:8000\" : \"http://localhost:8080\"\n\nexport class FileUpload extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {};\n  }\n  \n  sendFile(file) {\n    const data = new FormData();\n    data.append('file', file);\n    axios.post(API_URL+\"/api/upload\", data, { // receive two parameter endpoint url ,form data \n      }).then(res => { // then print response status\n        console.log(res)\n      })\n  }\n\n  fileUpload(file) {\n    this.setState(file);\n    this.sendFile(file[0]);\n  }\n\n  inputFileUpload(event) {\n    event.persist();\n    this.fileUpload(event.target.files)\n  }\n\n  render () {\n    return (\n      <div>\n        <div className=\"card\">\n          <FileDrop onDrop={(files, event) => this.fileUpload(files)}>\n            Drop your Excel Sheet here.\n            <label htmlFor=\"file\" className=\"btn-upload\">\n              <input type=\"file\" className=\"file-input\" id=\"file\" onChange={(event) => this.inputFileUpload(event)}/>\n              <i className=\"fa fa-cloud-upload\"></i> or choose a file \n            </label>\n          </FileDrop>\n        </div>\n      </div> \n    );\n  }\n}\n\nconst condition = authUser => !!authUser;\n\nexport default compose(\n  withAuthorization(condition)\n)(FileUpload);"],"sourceRoot":""}